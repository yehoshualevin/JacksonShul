@using JacksonShul.Models
@model PaymentsAndPledges

<h4>Name: @Model.Member.FirstName @Model.Member.LastName </h4>
<h4>Cell: @Model.Member.Cell</h4>
<h4>Email: @Model.Member.Email</h4>
<br />
<h3>Total Donations: @Model.Payments.Sum(p => p.Amount).ToString("C")</h3>
<table class="table table-bordered table-striped table-hover">
    <tr>
        <th>Amount</th>
        <th>Expense</th>
        <th>Date</th>
    </tr>
    @foreach (var p in Model.Payments)
    {
        <tr>
            <td>@p.Amount.ToString("C")</td>
            <td>@p.Name</td>
            <td>@p.Date.ToShortDateString()</td>
        </tr>
    }

</table>

<br />
<h3>Total Pledges: <span id="pledge-sum">@Model.Pledges.Sum(p => p.Amount).ToString("C")</span></h3>
<table class="table table-bordered table-striped table-hover">
    <tr>
        <th>Amount</th>
        <th>Expense</th>
        <th>Date</th>
    </tr>
    @foreach (var p in Model.Pledges)
    {
        <tr>
            <td>@p.Amount.ToString("C")</td>
            <td>@p.Name</td>
            <td>@p.Date.ToShortDateString()</td>
        </tr>
    }

</table>

<br />
<h3>Monthly Payments</h3>
<table class="table table-bordered table-striped table-hover">
    <tr>
        <th>Amount</th>
        <th>Expense</th>
        <th>Payments Remaining</th>
    </tr>
    @foreach (var mp in Model.MonthlyPayments)
    {
        <tr>
            <td>@mp.Amount.ToString("C")</td>
            <td>@mp.Name</td>
            <td>@mp.Count</td>
        </tr>
    }

</table>